<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SIPWise - Plan your SIP. Predict your future. Advanced SIP calculator with step-up, inflation adjustment, tax calculations and more.">
    <meta name="keywords" content="SIP Calculator, Mutual Funds, Investment Calculator, India, Tax Calculator, SIPWise">
    <title>SIPWise - Plan your SIP. Predict your future.</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8RSFJGFF8B"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-8RSFJGFF8B');
    </script>
    
    <!-- ‚úÖ UPDATED PATHS -->
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- Excel Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- ‚úÖ UPDATED CSS PATHS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/onboarding.css">
</head>
<body data-theme="light">
    <header>
        <div class="header-content">
            <h1>
                <a href="index.html" style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 12px;">
                    <div class="logo">‚Çπ</div>
                    SIPWise
                </a>
            </h1>
            <nav class="main-nav">
                <a href="index.html" class="active">Calculator</a>
                <a href="portfolio.html">Portfolio</a>
                <a href="pricing.html">Pricing</a>
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
            </nav>
            <div class="header-controls">
                <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()">üåô</button>
                <button class="restart-tutorial-btn" onclick="restartOnboarding()" title="Restart Tutorial">
                    <span>üéØ</span> Tutorial
                </button>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="disclaimer">
            <strong>‚ö†Ô∏è Important Disclaimer</strong>
            This calculator provides estimates based on your inputs and assumptions. Actual investment returns may vary significantly due to market conditions. Past performance does not guarantee future results. Please consult a SEBI registered financial advisor before making investment decisions. This tool is for educational purposes only and does not constitute financial advice.
        </div>

        <div class="main-grid">
            <!-- Left Panel - Inputs -->
            <div>
                <div class="card">
                    <div class="card-title">üìä Investment Parameters</div>

                    <!-- Calculator Mode -->
                    <div class="form-group">
                        <div class="form-label">
                            <span>Calculator Mode</span>
                        </div>
                        <div class="toggle-group">
                            <div class="toggle-btn active" onclick="setMode('forward')">Forward (SIP ‚Üí Corpus)</div>
                            <div class="toggle-btn" onclick="setMode('reverse')">Reverse (Goal ‚Üí SIP)</div>
                        </div>
                    </div>

                    <!-- Monthly SIP Amount -->
                    <div class="form-group" id="sipAmountGroup">
                        <div class="form-label">
                            <span>Monthly SIP Amount <span class="tooltip" title="The amount you invest every month">‚ÑπÔ∏è</span></span>
                            <span class="value-display">‚Çπ<span id="sipAmountDisplay">5000</span></span>
                        </div>
                        <input type="range" id="sipAmount" min="500" max="100000" value="5000" step="500" oninput="updateValue('sipAmount')">
                        <input type="number" id="sipAmountInput" value="5000" min="500" style="margin-top: 8px;" oninput="updateSlider('sipAmount')">
                    </div>

                    <!-- Target Corpus (for reverse mode) -->
                    <div class="form-group" id="targetCorpusGroup" style="display: none;">
                        <div class="form-label">
                            <span>Target Corpus <span class="tooltip" title="The amount you want to achieve">‚ÑπÔ∏è</span></span>
                            <span class="value-display">‚Çπ<span id="targetCorpusDisplay">10,00,000</span></span>
                        </div>
                        <input type="number" id="targetCorpus" value="1000000" min="10000" oninput="updateDisplay('targetCorpus')">
                    </div>

                    <!-- Investment Duration -->
                    <div class="form-group">
                        <div class="form-label">
                            <span>Investment Duration <span class="tooltip" title="How long you plan to invest">‚ÑπÔ∏è</span></span>
                            <span class="value-display"><span id="durationDisplay">10</span> Years</span>
                        </div>
                        <input type="range" id="duration" min="1" max="40" value="10" oninput="updateValue('duration')">
                        <div class="quick-presets">
                            <button onclick="setDuration(5)" class="preset-btn">5 years</button>
                            <button onclick="setDuration(10)" class="preset-btn">10 years</button>
                            <button onclick="setDuration(15)" class="preset-btn">15 years</button>
                            <button onclick="setDuration(20)" class="preset-btn">20 years</button>
                        </div>
                    </div>

                    <!-- Expected Return Rate -->
                    <div class="form-group">
                        <div class="form-label">
                            <span>Expected Annual Return <span class="tooltip" title="Expected yearly return percentage">‚ÑπÔ∏è</span></span>
                            <span class="value-display"><span id="returnRateDisplay">12</span>%</span>
                        </div>
                        <input type="range" id="returnRate" min="1" max="30" value="12" step="0.5" oninput="updateValue('returnRate')">
                        <div class="toggle-group" style="margin-top: 12px;">
                            <div class="toggle-btn" onclick="setReturn(8)">Conservative (8%)</div>
                            <div class="toggle-btn active" onclick="setReturn(12)">Moderate (12%)</div>
                            <div class="toggle-btn" onclick="setReturn(15)">Aggressive (15%)</div>
                        </div>
                    </div>

                    <!-- SIP Frequency -->
                    <div class="form-group">
                        <div class="form-label">
                            <span>SIP Frequency</span>
                        </div>
                        <select id="frequency" onchange="calculate()">
                            <option value="12">Monthly</option>
                            <option value="4">Quarterly</option>
                            <option value="6">Bi-monthly</option>
                        </select>
                    </div>

                    <!-- Investment Start Date -->
                    <div class="form-group">
                        <div class="form-label">
                            <span>Investment Start Date (Optional)</span>
                        </div>
                        <input type="date" id="startDate" value="">
                    </div>
                </div>

                <!-- Advanced Options -->
                <div class="card" style="margin-top: 20px;">
                    <div class="card-title">‚öôÔ∏è Advanced Options</div>

                    <!-- Step-up SIP -->
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleStepUp()">
                            <input type="checkbox" id="stepUpEnabled">
                            <label>Enable Step-up SIP <span class="tooltip" title="Increase your SIP amount annually">‚ÑπÔ∏è</span></label>
                        </div>
                        <div id="stepUpOptions" style="display: none; margin-top: 12px;">
                            <div class="form-label">
                                <span>Annual Increase</span>
                                <span class="value-display"><span id="stepUpDisplay">10</span>%</span>
                            </div>
                            <input type="range" id="stepUp" min="0" max="25" value="10" oninput="updateValue('stepUp')">
                        </div>
                    </div>

                    <!-- Lump Sum Addition -->
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleLumpSum()">
                            <input type="checkbox" id="lumpSumEnabled">
                            <label>Add Lump Sum Amount</label>
                        </div>
                        <div id="lumpSumOptions" style="display: none; margin-top: 12px;">
                            <div class="form-label">
                                <span>One-time Amount</span>
                            </div>
                            <input type="number" id="lumpSum" value="0" min="0" oninput="calculate()">
                        </div>
                    </div>

                    <!-- Inflation Adjustment -->
                    <div class="form-group">
                        <div class="checkbox-group" onclick="toggleInflation()">
                            <input type="checkbox" id="inflationEnabled">
                            <label>Adjust for Inflation <span class="tooltip" title="Calculate real returns after inflation">‚ÑπÔ∏è</span></label>
                        </div>
                        <div id="inflationOptions" style="display: none; margin-top: 12px;">
                            <div class="form-label">
                                <span>Expected Inflation Rate</span>
                                <span class="value-display"><span id="inflationDisplay">6</span>%</span>
                            </div>
                            <input type="range" id="inflation" min="0" max="15" value="6" step="0.5" oninput="updateValue('inflation')">
                        </div>
                    </div>

                    <!-- Tax Regime -->
                    <div class="form-group">
                        <div class="form-label">
                            <span>Fund Type <span class="tooltip" title="Select investment type for tax calculation">‚ÑπÔ∏è</span></span>
                        </div>
                        <select id="fundType" onchange="calculate()">
                            <option value="equity">Equity Funds</option>
                            <option value="debt">Debt Funds</option>
                            <option value="hybrid">Hybrid Funds</option>
                        </select>
                    </div>

                    <!-- Goal Based Planning -->
                    <div class="form-group">
                        <div class="form-label">
                            <span>Investment Goal</span>
                        </div>
                        <div class="goal-selector">
                            <div class="goal-btn" onclick="setGoal('house')">
                                <div class="goal-icon">üè†</div>
                                <div>House</div>
                            </div>
                            <div class="goal-btn" onclick="setGoal('car')">
                                <div class="goal-icon">üöó</div>
                                <div>Car</div>
                            </div>
                            <div class="goal-btn" onclick="setGoal('retirement')">
                                <div class="goal-icon">üå¥</div>
                                <div>Retirement</div>
                            </div>
                            <div class="goal-btn" onclick="setGoal('education')">
                                <div class="goal-icon">üéì</div>
                                <div>Education</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Results -->
            <div>
                <div class="card">
                    <div class="card-title">üìà Investment Summary</div>

                    <div class="results-grid">
                        <div class="result-card">
                            <div class="result-label">Total Invested</div>
                            <div class="result-value" id="totalInvested">‚Çπ6,00,000</div>
                            <div class="result-subtext">Principal Amount</div>
                        </div>
                        <div class="result-card">
                            <div class="result-label">Expected Corpus</div>
                            <div class="result-value" id="expectedCorpus">‚Çπ11,61,695</div>
                            <div class="result-subtext">At Maturity</div>
                        </div>
                        <div class="result-card">
                            <div class="result-label">Total Gains</div>
                            <div class="result-value" id="totalGains">‚Çπ5,61,695</div>
                            <div class="result-subtext"><span id="gainPercentage">93.62</span>% Returns</div>
                        </div>
                        <div class="result-card">
                            <div class="result-label">Wealth Multiplier</div>
                            <div class="result-value" id="multiplier">1.94x</div>
                            <div class="result-subtext">Growth Factor</div>
                        </div>
                    </div>

                    <div class="info-box" id="inflationAdjustedBox" style="display: none;">
                        <strong>Inflation-Adjusted Value:</strong>
                        <div class="value-display">
                            <span>Real Returns:</span>
                            <span id="inflationAdjusted">‚Çπ0</span>
                        </div>
                    </div>

                    <div class="info-box" id="cagrBox">
                        <strong>Compound Annual Growth Rate (CAGR):</strong>
                        <div class="value-display">
                            <span>Effective CAGR:</span>
                            <span id="cagr">12.0%</span>
                        </div>
                    </div>

                    <div class="info-box" id="taxBox" style="display: none;">
                        <strong>Tax Impact Summary:</strong>
                        <div style="margin-top: 8px;">
                            <div class="value-display">
                                <span>Capital Gains Tax:</span>
                                <span id="taxAmount">‚Çπ0</span>
                            </div>
                            <div class="value-display" style="margin-top: 4px;">
                                <span>Post-Tax Corpus:</span>
                                <span id="postTaxCorpus">‚Çπ0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Tabs for Charts and Tables -->
                    <div class="tabs">
                        <button class="tab active" onclick="switchTab('chart')">üìä Charts</button>
                        <button class="tab" onclick="switchTab('table')">üìã Breakdown</button>
                        <button class="tab" onclick="switchTab('comparison')">üîÑ Scenarios</button>
                    </div>

                    <!-- Chart Tab -->
                    <div class="tab-content active" id="chartTab">
                        <div class="chart-container">
                            <canvas id="sipChart"></canvas>
                        </div>
                        <div class="toggle-group">
                            <div class="toggle-btn active" onclick="setChartType('bar')">Bar Chart</div>
                            <div class="toggle-btn" onclick="setChartType('line')">Line Chart</div>
                            <div class="toggle-btn" onclick="setChartType('pie')">Pie Chart</div>
                        </div>
                    </div>

                    <!-- Table Tab -->
                    <div class="tab-content" id="tableTab">
                        <div style="max-height: 500px; overflow-y: auto;">
                            <table id="breakdownTable">
                                <thead>
                                    <tr>
                                        <th>Year</th>
                                        <th>Invested</th>
                                        <th>Returns</th>
                                        <th>Total Corpus</th>
                                    </tr>
                                </thead>
                                <tbody id="breakdownTableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Comparison Tab -->
                    <div class="tab-content" id="comparisonTab">
                        <div class="scenario-comparison">
                            <div class="scenario-card">
                                <h3>Conservative (8%)</h3>
                                <div class="result-value" id="conservativeCorpus">‚Çπ0</div>
                                <p style="color: var(--text-secondary); margin-top: 8px;">Lower risk, stable returns</p>
                            </div>
                            <div class="scenario-card active">
                                <h3>Moderate (12%)</h3>
                                <div class="result-value" id="moderateCorpus">‚Çπ0</div>
                                <p style="color: var(--text-secondary); margin-top: 8px;">Balanced risk-reward</p>
                            </div>
                            <div class="scenario-card">
                                <h3>Aggressive (15%)</h3>
                                <div class="result-value" id="aggressiveCorpus">‚Çπ0</div>
                                <p style="color: var(--text-secondary); margin-top: 8px;">Higher risk, higher returns</p>
                            </div>
                        </div>

                        <div id="probabilitySection" style="margin-top: 24px;">
                            <h3>Goal Achievement Probability</h3>
                            <div class="probability-meter">
                                <div class="probability-fill" id="probabilityFill" style="width: 75%;"></div>
                            </div>
                            <p style="text-align: center; margin-top: 8px; color: var(--text-secondary);">
                                <span id="probabilityText">75%</span> chance of achieving your goal
                            </p>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="downloadPDF()">üìÑ Download PDF</button>
                        <button class="btn btn-primary" onclick="downloadExcel()">üìä Export to Excel</button>
                        <button class="btn btn-secondary" onclick="shareResults()">üîó Share Link</button>
                        <button class="btn btn-secondary" onclick="window.print()">üñ®Ô∏è Print</button>
                    </div>
                </div>

                <!-- Expandable Sections -->
                <div class="expandable">
                    <div class="expandable-header" onclick="toggleExpandable('methodology')">
                        <span>üìö How is this calculated?</span>
                        <span id="methodologyIcon">‚ñº</span>
                    </div>
                    <div class="expandable-content" id="methodologyContent">
                        <h3>Calculation Methodology</h3>
                        <p><strong>Future Value Formula:</strong></p>
                        <p>FV = P √ó [(1 + r)^n - 1] / r √ó (1 + r)</p>
                        <p style="margin-top: 12px;">Where:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li>FV = Future Value (corpus at maturity)</li>
                            <li>P = Monthly SIP amount</li>
                            <li>r = Monthly rate of return (Annual rate / 12)</li>
                            <li>n = Total number of months</li>
                        </ul>
                        <p style="margin-top: 12px;"><strong>CAGR Formula:</strong></p>
                        <p>CAGR = [(Final Value / Initial Value)^(1/Years)] - 1</p>
                        <p style="margin-top: 12px;"><strong>Assumptions:</strong></p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li>Returns are compounded monthly</li>
                            <li>SIP is made at the beginning of each period</li>
                            <li>No exit load or other charges considered</li>
                            <li>Returns are assumed to be constant (actual returns may vary)</li>
                        </ul>
                    </div>
                </div>

                <div class="expandable">
                    <div class="expandable-header" onclick="toggleExpandable('tax')">
                        <span>üí∞ Tax Rules & Implications</span>
                        <span id="taxIcon">‚ñº</span>
                    </div>
                    <div class="expandable-content" id="taxContent">
                        <h3>Tax Treatment in India (As of 2025)</h3>
                        
                        <div class="info-box" style="margin-top: 12px;">
                            <strong>Equity Mutual Funds:</strong>
                            <ul style="margin-left: 20px; margin-top: 8px;">
                                <li>Long Term Capital Gains (>1 year): 12.5% on gains above ‚Çπ1.25 lakh per year</li>
                                <li>Short Term Capital Gains (‚â§1 year): 20%</li>
                            </ul>
                        </div>

                        <div class="info-box" style="margin-top: 12px;">
                            <strong>Debt Mutual Funds:</strong>
                            <ul style="margin-left: 20px; margin-top: 8px;">
                                <li>Taxed as per your income tax slab</li>
                                <li>No indexation benefit from April 2023 onwards</li>
                            </ul>
                        </div>

                        <div class="info-box" style="margin-top: 12px;">
                            <strong>ELSS Funds:</strong>
                            <ul style="margin-left: 20px; margin-top: 8px;">
                                <li>Tax deduction under Section 80C (up to ‚Çπ1.5 lakh per year)</li>
                                <li>3-year lock-in period</li>
                                <li>LTCG tax applicable after lock-in</li>
                            </ul>
                        </div>

                        <p style="margin-top: 12px; color: var(--text-secondary); font-size: 14px;">
                            <strong>Note:</strong> Tax laws are subject to change. Please consult a tax advisor for personalized advice.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>SIPWise</h4>
                <p style="font-size: 14px; color: var(--text-secondary); margin-top: 8px;">Plan your SIP. Predict your future.</p>
            </div>
            
            <div class="footer-section">
                <h4>Product</h4>
                <ul class="footer-links">
                    <li><a href="index.html">Calculator</a></li>
                    <li><a href="portfolio.html">Portfolio Analyzer</a></li>
                    <li><a href="pricing.html">Pricing</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Support</h4>
                <ul class="footer-links">
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Legal</h4>
                <p style="font-size: 12px; color: var(--text-secondary); margin-top: 8px;">
                    This tool is for educational purposes only. Please consult a SEBI registered financial advisor before making investment decisions.
                </p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 SIPWise. All rights reserved.</p>
            <p style="font-size: 12px; color: var(--text-secondary); margin-top: 8px;">
                Last Updated: January 2025
            </p>
        </div>
    </footer>

<!-- ‚úÖ UPDATED JS PATHS -->
<script src="assets/js/script.js"></script>
<script src="assets/js/onboarding.js"></script>
    
</body>
</html>